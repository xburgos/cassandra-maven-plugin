<?xml version="1.0"?>
<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>foo.bar</groupId>
  <artifactId>BAR-ALL</artifactId>
  <version>1.0</version>
  <name>Bar Packages</name>
  <description>Parent Project for solaris packages used to deploy foo::bar.</description>
  <packaging>pom</packaging>
  <modules>
    <module>BAR-MAIN</module>
    <!-- IMPORTANT: exclude this if you want to call package from here since BAR-CFG needs a custom property to build -->
    <module>BAR-CFG</module>
  </modules>
  <build>  
    <outputDirectory>target/package</outputDirectory>
    <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>false</filtering>
      </resource>
      <resource>
        <directory>src/main/templates</directory>
        <filtering>true</filtering>
      </resource>
    </resources>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>solaris-maven-plugin</artifactId>
        <!-- IMPORTANT: the extensions flag is required to activate the 'solaris' packaging -->
        <extensions>true</extensions>
        <configuration>
          <!-- <packageName>${project.artifactId}</packageName> -->
          <!-- <packageFilename>${project.artifactId}-${project.version}.pkg</packageFilename> -->
          <!-- <outputDirectory>${project.build.outputDirectory}</outputDirectory> -->
          <!-- <outputRootFolder>ROOT</outputRootFolder> -->
          <!-- <packageRoot>/</packageRoot> -->
        </configuration>
      </plugin>
      <plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>dependency-maven-plugin</artifactId>
				<executions>
					<execution>
						<phase>process-resources</phase>
						<goals>
							<goal>copy-dependencies</goal>
						</goals>
            <configuration>
              <outputDirectory>${project.build.outputDirectory}/ROOT/opt/foo/lib</outputDirectory>
            </configuration>
					</execution>
				</executions>
      </plugin>
    </plugins>    
  </build>
</project>
